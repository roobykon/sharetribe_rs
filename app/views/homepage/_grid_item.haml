- frontpage_fragment_cache("grid_item", listing) do
  .home-fluid-thumbnail-grid-item.catering-item
    %div
      -# Listing image
      = render :partial => "layouts/grid_item_listing_image", :locals => {:listing => listing, :modifier_class => ""}

      -# Listing author details
      .home-fluid-thumbnail-grid-author.catering-author
        .fluid-thumbnail-grid-image-title
          = link_to(listing_path(listing.url), :class => "fluid-thumbnail-grid-image-item-link catering-link") do
            = listing.title
          = link_to " ", '#',:class => 'title-like'
        .fluid-thumbnail-info
          .fluid-thumbnail-location
            .location-city
              Amsterdam
            .location-country
              Netherlands
          .fluid-thumbnail-people
            .people-title
              PEOPLE
            .people-count
              from
              %b 2
              to
              %b 1000
        .home-fluid-services
          Corporative, Fourchettes, Banquets, Drinks and Cocktails, Birthdays
        -#.home-fluid-thumbnail-grid-author-avatar
        -#  = link_to(person_path(username: listing.author.username)) do
        -#    = image_tag(listing.author.avatar.thumb || missing_avatar(:thumb), :class => "home-fluid-thumbnail-grid-author-avatar-image")

        - distance = Maybe(listing.distance).or_else(nil)
        - name = PersonViewUtils.person_entity_display_name(listing.author, @current_community.name_display_type)
        -#- if(!show_distance || distance.blank?)
        -#  = link_to(person_path(username: listing.author.username), :class => "home-fluid-thumbnail-grid-author-name", title: name) do
        -#    = name
        -#- else
        -#  .home-fluid-thumbnail-grid-details
        -#    = link_to(person_path(username: listing.author.username), class: "home-fluid-thumbnail-grid-details-author-name", title: name) do
        -#      = name
        -#    - dist = format_distance(distance)
        -#    - dist_string = "#{dist} #{listing.distance_unit}"
        -#    .home-fluid-thumbnail-grid-details-distance{title: dist_string}
        -#      = dist_string
        = link_to(listing_path(listing.url), :class => 'fluid-thumbnail-grid-image-price-container price-wrap') do
          - if listing.price
            %span.fluid-thumbnail-grid-image-price
              %span.price-smallest
                from
              = MoneyViewUtils.to_humanized(listing.price)
              - price_unit = price_quantity_slash_unit(listing)
              %span.price-small
                USD
            - if !price_unit.blank?
              - price_text = " " + price_unit
              %span.fluid-thumbnail-grid-image-quantity{:title => price_text}
                = price_text

          - else
            %span.fluid-thumbnail-grid-image-type
              = shape_name(listing)
